<div class="min-h-screen bg-base-200 py-12">
  <header class="max-w-5xl mx-auto px-6 text-center mb-10">
    <h1 class="text-4xl font-extrabold tracking-tight">Unsere Produkte</h1>
    <p class="mt-3 opacity-75">
      Entdecke handverlesene Geschenkideen und winterliche Spezialitäten aus unserer Community.
    </p>

    <% if @categories.present? %>
      <div class="mt-6 flex flex-wrap justify-center gap-2 text-sm">
        <% @categories.each do |category| %>
          <span class="badge badge-outline">#<%= category %></span>
        <% end %>
      </div>
    <% end %>
  </header>

  <section class="max-w-6xl mx-auto px-6">
    <% if @products.any? %>
      <div class="grid gap-6 md:grid-cols-2 xl:grid-cols-3">
        <% @products.each do |product| %>
          <article class="card bg-base-100 shadow-xl">
            <% if product.main_product_image.present? %>
              <figure class="aspect-[4/3] overflow-hidden">
                <%= image_tag product.main_product_image, class: "w-full h-full object-cover", alt: product.title %>
              </figure>
            <% end %>
            <div class="card-body">
              <span class="text-xs uppercase tracking-wide opacity-60">
                <%= product.user&.business&.business_name || "Unbekannter Store" %>
              </span>
              <h2 class="card-title text-xl"><%= product.title %></h2>
              <p class="opacity-70"><%= truncate(product.description, length: 120) %></p>
              <div class="flex items-center justify-between mt-4">
                <span class="font-semibold text-lg"><%= number_to_currency(product.price) %></span>
                <%= link_to "Ansehen", marketing_product_path(product), class: "btn btn-primary btn-sm" %>
              </div>
            </div>
          </article>
        <% end %>
      </div>
    <% else %>
      <p class="text-center opacity-70 py-12">Noch sind keine Produkte vorhanden. Schau später wieder vorbei.</p>
    <% end %>
  </section>
</div>
